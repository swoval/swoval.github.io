<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_152) on Thu Feb 07 15:23:07 PST 2019 -->
<title>FileTreeRepository</title>
<meta name="date" content="2019-02-07">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="FileTreeRepository";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/swoval/files/FileTreeRepositories.html" title="class in com.swoval.files"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/swoval/files/FileTreeView.html" title="interface in com.swoval.files"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/swoval/files/FileTreeRepository.html" target="_top">Frames</a></li>
<li><a href="FileTreeRepository.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.swoval.files</div>
<h2 title="Interface FileTreeRepository" class="title">Interface FileTreeRepository&lt;T&gt;</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of data stored in the <a href="../../../com/swoval/files/FileTreeDataViews.Entry.html" title="interface in com.swoval.files"><code>FileTreeDataViews.Entry</code></a> instances for the cache</dd>
</dl>
<dl>
<dt>All Superinterfaces:</dt>
<dd>java.lang.AutoCloseable, <a href="../../../com/swoval/files/FileTreeDataView.html" title="interface in com.swoval.files">FileTreeDataView</a>&lt;T&gt;, <a href="../../../com/swoval/files/FileTreeDataViews.ObservableCache.html" title="interface in com.swoval.files">FileTreeDataViews.ObservableCache</a>&lt;T&gt;, <a href="../../../com/swoval/files/FileTreeView.html" title="interface in com.swoval.files">FileTreeView</a>, <a href="../../../com/swoval/files/FileTreeViews.Observable.html" title="interface in com.swoval.files">FileTreeViews.Observable</a>&lt;<a href="../../../com/swoval/files/FileTreeDataViews.Entry.html" title="interface in com.swoval.files">FileTreeDataViews.Entry</a>&lt;T&gt;&gt;, <a href="../../../com/swoval/files/PathWatcher.html" title="interface in com.swoval.files">PathWatcher</a>&lt;<a href="../../../com/swoval/files/FileTreeDataViews.Entry.html" title="interface in com.swoval.files">FileTreeDataViews.Entry</a>&lt;T&gt;&gt;</dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">FileTreeRepository&lt;T&gt;</span>
extends <a href="../../../com/swoval/files/FileTreeDataView.html" title="interface in com.swoval.files">FileTreeDataView</a>&lt;T&gt;, <a href="../../../com/swoval/files/PathWatcher.html" title="interface in com.swoval.files">PathWatcher</a>&lt;<a href="../../../com/swoval/files/FileTreeDataViews.Entry.html" title="interface in com.swoval.files">FileTreeDataViews.Entry</a>&lt;T&gt;&gt;, <a href="../../../com/swoval/files/FileTreeDataViews.ObservableCache.html" title="interface in com.swoval.files">FileTreeDataViews.ObservableCache</a>&lt;T&gt;, java.lang.AutoCloseable</pre>
<div class="block">Provides an in memory cache of portions of the file system. Directories are added to the cache
 using the <a href="../../../com/swoval/files/FileTreeRepository.html#register-java.nio.file.Path-int-"><code>register(java.nio.file.Path, int)</code></a> method. Once a Path is added the cache, its
 contents may be retrieved using the <a href="../../../com/swoval/files/FileTreeDataView.html#list-java.nio.file.Path-int-com.swoval.functional.Filter-"><code>FileTreeDataView.list(java.nio.file.Path, int, com.swoval.functional.Filter&lt;? super com.swoval.files.TypedPath&gt;)</code></a> method. The cache stores the
 path information in <a href="../../../com/swoval/files/FileTreeDataViews.Entry.html" title="interface in com.swoval.files"><code>FileTreeDataViews.Entry</code></a> instances.

 <p>A default implementation is provided by <a href="../../../com/swoval/files/FileTreeRepositories.html#get-com.swoval.files.FileTreeDataViews.Converter-boolean-"><code>FileTreeRepositories.get(com.swoval.files.FileTreeDataViews.Converter&lt;T&gt;, boolean)</code></a>. The user may cache
 arbitrary information in the cache by customizing the <a href="../../../com/swoval/files/FileTreeDataViews.Converter.html" title="interface in com.swoval.files"><code>FileTreeDataViews.Converter</code></a> that is passed into the
 factory <a href="../../../com/swoval/files/FileTreeRepositories.html#get-com.swoval.files.FileTreeDataViews.Converter-boolean-"><code>FileTreeRepositories.get(com.swoval.files.FileTreeDataViews.Converter&lt;T&gt;, boolean)</code></a>.

 <p>The cache allows the user to register a regular file, directory or symbolic link. After
 registration, the cache should monitor the path (and in the case of symbolic links, the target of
 the link) for updates. Whenever an update is detected, the cache updates its internal
 representation of the file system. When that is complete, it will notify all of the registered
 <code>Observers</code> of the change. In general, the update that is sent in the
 callback will be visible if the user lists the relevant path. It is however, possible that if the
 file is being updated rapidly that the internal state of the cache may change in between the
 callback being invoked and the user listing the path. Once the file system activity settles down,
 the cache should always end up in a consistent state where it mirrors the state of the file
 system.

 <p>The semantics of the list method are very similar to the linux `ls` tool. Listing a directory
 returns all of the subdirectories and files contained in the directory and the empty list if the
 directory is empty. Listing a file, however, will return the entry for the file if it exists and
 the empty list otherwise.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../com/swoval/functional/Either.html" title="class in com.swoval.functional">Either</a>&lt;java.io.IOException,java.lang.Boolean&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/swoval/files/FileTreeRepository.html#register-java.nio.file.Path-int-">register</a></span>(java.nio.file.Path&nbsp;path,
        int&nbsp;maxDepth)</code>
<div class="block">Register a path with the cache.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/swoval/files/FileTreeRepository.html#unregister-java.nio.file.Path-">unregister</a></span>(java.nio.file.Path&nbsp;path)</code>
<div class="block">Unregister a path from the cache.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.com.swoval.files.FileTreeDataView">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.swoval.files.<a href="../../../com/swoval/files/FileTreeDataView.html" title="interface in com.swoval.files">FileTreeDataView</a></h3>
<code><a href="../../../com/swoval/files/FileTreeDataView.html#list-java.nio.file.Path-int-com.swoval.functional.Filter-">list</a>, <a href="../../../com/swoval/files/FileTreeDataView.html#listEntries-java.nio.file.Path-int-com.swoval.functional.Filter-">listEntries</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.AutoCloseable">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;java.lang.AutoCloseable</h3>
<code>close</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.com.swoval.files.PathWatcher">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.swoval.files.<a href="../../../com/swoval/files/PathWatcher.html" title="interface in com.swoval.files">PathWatcher</a></h3>
<code><a href="../../../com/swoval/files/PathWatcher.html#close--">close</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.com.swoval.files.FileTreeDataViews.ObservableCache">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.swoval.files.<a href="../../../com/swoval/files/FileTreeDataViews.ObservableCache.html" title="interface in com.swoval.files">FileTreeDataViews.ObservableCache</a></h3>
<code><a href="../../../com/swoval/files/FileTreeDataViews.ObservableCache.html#addCacheObserver-com.swoval.files.FileTreeDataViews.CacheObserver-">addCacheObserver</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.com.swoval.files.FileTreeViews.Observable">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.swoval.files.<a href="../../../com/swoval/files/FileTreeViews.Observable.html" title="interface in com.swoval.files">FileTreeViews.Observable</a></h3>
<code><a href="../../../com/swoval/files/FileTreeViews.Observable.html#addObserver-com.swoval.files.FileTreeViews.Observer-">addObserver</a>, <a href="../../../com/swoval/files/FileTreeViews.Observable.html#removeObserver-int-">removeObserver</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="register-java.nio.file.Path-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>register</h4>
<pre><a href="../../../com/swoval/functional/Either.html" title="class in com.swoval.functional">Either</a>&lt;java.io.IOException,java.lang.Boolean&gt;&nbsp;register(java.nio.file.Path&nbsp;path,
                                                       int&nbsp;maxDepth)</pre>
<div class="block">Register a path with the cache. A successful call to this method will both start monitoring of
 the path add will fill the cache for this path.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/swoval/files/PathWatcher.html#register-java.nio.file.Path-int-">register</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/swoval/files/PathWatcher.html" title="interface in com.swoval.files">PathWatcher</a>&lt;<a href="../../../com/swoval/files/FileTreeDataViews.Entry.html" title="interface in com.swoval.files">FileTreeDataViews.Entry</a>&lt;<a href="../../../com/swoval/files/FileTreeRepository.html" title="type parameter in FileTreeRepository">T</a>&gt;&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>path</code> - the directory to watch for file events and to add to the cache</dd>
<dd><code>maxDepth</code> - the maximum maxDepth of subdirectories to watch</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an <a href="../../../com/swoval/functional/Either.html" title="class in com.swoval.functional"><code>Either</code></a> that will return a right value when no
     exception is thrown. The right value will be true if the path has not been previously
     registered. The <a href="../../../com/swoval/functional/Either.html" title="class in com.swoval.functional"><code>Either</code></a> will be a left if any IOException is
     thrown attempting to register the path.</dd>
</dl>
</li>
</ul>
<a name="unregister-java.nio.file.Path-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>unregister</h4>
<pre>void&nbsp;unregister(java.nio.file.Path&nbsp;path)</pre>
<div class="block">Unregister a path from the cache. This removes the path from monitoring and from the cache so
 long as the path isn't covered by another registered path. For example, if the path /foo was
 previously registered, after removal, no changes to /foo or files in /foo should be detected by
 the cache. Moreover, calling <a href="../../../com/swoval/files/FileTreeDataView.html#list-java.nio.file.Path-int-com.swoval.functional.Filter-"><code>FileTreeDataView.list(java.nio.file.Path, int, com.swoval.functional.Filter&lt;? super com.swoval.files.TypedPath&gt;)</code></a> for /foo should return an empty
 list. If, however, we register both /foo recursively and /foo/bar (recursively or not), after
 unregistering /foo/bar, changes to /foo/bar should continue to be detected and /foo/bar should
 be included in the list returned by <a href="../../../com/swoval/files/FileTreeDataView.html#list-java.nio.file.Path-int-com.swoval.functional.Filter-"><code>FileTreeDataView.list(java.nio.file.Path, int, com.swoval.functional.Filter&lt;? super com.swoval.files.TypedPath&gt;)</code></a>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/swoval/files/PathWatcher.html#unregister-java.nio.file.Path-">unregister</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/swoval/files/PathWatcher.html" title="interface in com.swoval.files">PathWatcher</a>&lt;<a href="../../../com/swoval/files/FileTreeDataViews.Entry.html" title="interface in com.swoval.files">FileTreeDataViews.Entry</a>&lt;<a href="../../../com/swoval/files/FileTreeRepository.html" title="type parameter in FileTreeRepository">T</a>&gt;&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>path</code> - the path to unregister</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/swoval/files/FileTreeRepositories.html" title="class in com.swoval.files"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/swoval/files/FileTreeView.html" title="interface in com.swoval.files"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/swoval/files/FileTreeRepository.html" target="_top">Frames</a></li>
<li><a href="FileTreeRepository.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
